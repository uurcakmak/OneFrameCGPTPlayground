"use strict";var KTEditLanguageGeneral=function(){var t,e,a,n,i;return{init:function(){t=document.querySelector("#languageEditForm"),e=document.querySelector("#languageEditButton"),n=document.querySelector("#editFlagPreview"),i=document.querySelector("#editImage"),a=FormValidation.formValidation(t,{fields:{Name:{validators:{notEmpty:ValidationMessages.notEmpty(L("Name"))}},Code:{validators:{notEmpty:ValidationMessages.notEmpty(L("Code"))}},Image:{validators:{notEmpty:ValidationMessages.notEmpty(L("Flag"))}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row"})}}),e.addEventListener("click",async function(e){e.preventDefault(),a.validate().then(async function(e){var a;"Valid"===e&&(e=(a=$(t).serializeArray()).findIndex(e=>"IsActive"===e.name),a[e].value=$("input[name='IsActive']").is(":checked")?"true":"false",e=a.findIndex(e=>"IsDefault"===e.name),a[e].value=$("input[name='IsDefault']").is(":checked")?"true":"false",e=await readFileAsDataURL(i.files[0]),a.push({name:"Image",value:e??n.src}),Common.Ajax($(t).attr("method"),$(t).attr("action"),a))})}),i.addEventListener("change",async function(e){var a=await readFileAsDataURL(i.files[0]);n.src=a,n.alt="flag"})}}}();KTUtil.onDOMContentLoaded(function(){KTEditLanguageGeneral.init()});